<!DOCTYPE html>
<html ng-app="mmapp">
<head>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<title>mobMarket</title>
	<script type="text/javascript" src="phonegap.js"></script>
	<script type="text/javascript" src="js/angular.min.js"></script>
	<script type="text/javascript" src="js/newsreader.js"></script>
	<script type="text/javascript" src="js/ysearch.js"></script>
	<script type="text/javascript" src="js/yquotes.js"></script>
	<script type="text/javascript" src="js/mmcontroller.js"></script>
</head>
<body ng-controller="mmCtrl">
	<div id="screenMain">
		<div id="mainHeader" class="header">
			<div touch-action="goBack" touch-btn="{{selectedScreen}}">
				<span class="backArrow">
					<span ng-hide="selectedScreen">&nbsp;</span>
					<span ng-show="selectedScreen">&#8249;</span>
				</span>
				<img style="float: left" src="img/logo.png" />
				<span ng-hide="selectedScreen">
					<span class="mobClass">mob</span><span class="marketClass">Market</span>
				</span>
				<span ng-show="selectedScreen && selectedScreen.id != 'stockDetails'">{{selectedScreen.label}}</span>
				<span ng-show="selectedStock && selectedScreen.id == 'stockDetails'">{{selectedStock.symbol}}</span>
			</div>
		</div>
		<div ng-show="loading" class="content">
			<img src="img/loader.gif" />
		</div>
		<div ng-show="!selectedScreen" class="content">
			<div ng-repeat="menuItem in screens" ng-show="menuItem.inMainMenu" class="menuItem" touch-action="selectScreen" touch-btn="{{menuItem}}">
				{{menuItem.label}}
				<div class="menuArrow">&#8250;</div>
			</div>
		</div>
		<div ng-show="selectedScreen.id == 'news'" class="content">
			<div ng-repeat="newsItem in newsItems" touch-action="openLink" touch-btn="{{newsItem.link}}" class="listItem">
				<img class="newsImage" ng-show="newsItem.image" ng-src="http:{{newsItem.image}}" />
				<div class="listTitle">{{newsItem.title}}</div>
				<div class="newsDate">{{newsItem.pubDate}}</div>
				<p class="listContent" ng-show="newsItem.content">{{newsItem.content}}</p>
			</div>
		</div>
		<div ng-show="selectedScreen.id == 'search'" class="content">
			<input class="inputSearch" type="search" name="search" placeholder="Type here to search" ng-model="searchStock" ng-change="searchChange()" />
			<div ng-show="searchStock != '' && searchResults.length == 0" class="noResults">No results found</div>
			<div ng-repeat="searchResult in searchResults" touch-action="selectStock" touch-btn="{{searchResult}}" class="listItem">
				<div class="floatingBadge">{{searchResult.symbol}}</div>
				<div class="listTitle">{{searchResult.name}}</div>
				<div class="listContent"><b>Exchange: </b>{{searchResult.exchDisp || searchResult.exch}}</div>
				<div class="listContent"><b>Type: </b>{{searchResult.typeDisp || searchResult.type}}</div>
			</div>
		</div>
		<div ng-show="selectedScreen.id == 'stockDetails'" class="content">
			<div class="stockDetails" ng-show="selectedStock.stockData">
				<div class="stockDetailsHead">
					<div style="float: right">({{selectedStock.exchDisp || selectedStock.exch}} - {{selectedStock.typeDisp || selectedStock.type}})</div>
					<div style="font-size: 18px;">{{selectedStock.name}}</div>
				</div>
				<div class="listItem">
					<table style="width: 100%; white-space: nowrap; table-layout: fixed;">
						<tr ng-repeat="(key, val) in selectedStock.stockData" ng-show="val && val != 'N/A - N/A'">
							<td style="width: 50%; text-align: left; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{key}}</td>
							<td style="width: 50%; text-align: right; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{val}}</td>
						</tr>
					</table>
				</div>
				<div class="stockDetailsFoot">
					<div class="menutItem">
						Chart
						<div class="menuArrow">&#8250;</div>
					</div>
					<div class="menutItem">
						News
						<div class="menuArrow">&#8250;</div>
					</div>
					<br />
				</div>
			</div>
		</div>
	</div>
</body>
</html>